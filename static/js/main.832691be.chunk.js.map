{"version":3,"sources":["components/ImageGalleryItem/imageGaleryItem.module.css","components/Modal/modal.module.css","components/ImageGallery/imageGallery.module.css","components/Searchbar/Searchbar.js","components/LoadError/LoadError.js","components/Spinner/Spinner.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","App.js","components/API/APIservice.js","index.js","components/Searchbar/searchbar.module.css","App.module.css"],"names":["module","exports","Searchbar","props","useState","name","setName","reset","className","styles","SearchForm","onSubmit","e","preventDefault","SearchForm_input","type","autoComplete","autoFocus","placeholder","onChange","currentTarget","value","SearchForm_button","style","marginRight","SearchForm_button_label","LoadError","message","role","Spinner","color","height","width","timeout","Component","ImageGalleryItem","id","tags","smallImage","largeImage","onClickImg","galleryItem","galleryItem_Img","src","alt","onClick","ImageGallery","pictures","toggleModal","useEffect","window","scrollTo","top","document","documentElement","scrollHeight","behavior","class","gallery","map","webformatURL","largeImageURL","Button","onClickLoad","Modal","addEventListener","handleEscClick","removeEventListener","evt","code","closeModal","onToggleModal","image","overlay","tabIndex","modal","App","pictureName","setPictureName","setPictures","error","setError","status","setStatus","page","setPage","biggerImage","setBiggerImage","showModal","setShowModal","wrapperForFetch","useCallback","nextName","nextPage","fetch","then","response","ok","json","Promise","reject","Error","data","hits","catch","alert","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.832691be.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"galleryItem\":\"imageGaleryItem_galleryItem__2CGky\",\"galleryItem_Img\":\"imageGaleryItem_galleryItem_Img__20sO_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"modal_overlay__1s7gG\",\"modal\":\"modal_modal__3KpYI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"imageGallery_gallery__1lJtA\"};","import React, { useState } from 'react';\nimport { ImSearch } from 'react-icons/im';\nimport styles from './searchbar.module.css';\n\nexport default function Searchbar(props) {\n  const [name, setName] = useState('');\n\n  const handleInputChange = e => {\n    setName(e.currentTarget.value);\n  };\n\n  const onInputSubmit = e => {\n    const { onSubmit } = props;\n    e.preventDefault();\n    onSubmit(name);\n    reset();\n  };\n\n  const reset = () => {\n    setName('');\n  };\n  return (\n    <header className={styles.Searchbar}>\n      <form className={styles.SearchForm} onSubmit={onInputSubmit}>\n        <input\n          className={styles.SearchForm_input}\n          type=\"text\"\n          name=\"name\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          onChange={handleInputChange}\n          value={name}\n        />\n        <button className={styles.SearchForm_button} type=\"submit\">\n          <ImSearch style={{ marginRight: 8 }} />\n          <span className={styles.SearchForm_button_label}>Search</span>\n        </button>\n      </form>\n    </header>\n  );\n}\n","export default function LoadError({ message }) {\r\n  return (\r\n    <div role=\"alert\">\r\n      <p>{message}</p>\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component } from 'react';\nimport Loader from 'react-loader-spinner';\n\nexport default class Spinner extends Component {\n  //other logic\n  render() {\n    return (\n      <div>\n        <Loader\n          type=\"Puff\"\n          color=\"#00BFFF\"\n          height={100}\n          width={100}\n          timeout={3000} //3 secs\n        />\n        {/* <p>Loading...</p> */}\n      </div>\n    );\n  }\n}\n","import styles from './imageGaleryItem.module.css';\r\n\r\nexport default function ImageGalleryItem({\r\n  id,\r\n  tags,\r\n  smallImage,\r\n  largeImage,\r\n  onClickImg,\r\n}) {\r\n  return (\r\n    <li key={id} className={styles.galleryItem}>\r\n      <img\r\n        className={styles.galleryItem_Img}\r\n        src={smallImage}\r\n        alt={tags}\r\n        data-source={largeImage}\r\n        onClick={() => {\r\n          onClickImg(largeImage);\r\n        }}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n","import { useEffect } from 'react';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport styles from './imageGallery.module.css';\n\nexport default function ImageGallery({ pictures, toggleModal }) {\n  const scroll = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  useEffect(() => {\n    scroll();\n  }, [pictures]);\n\n  return (\n    <ul class={styles.gallery}>\n      {pictures.map(({ id, tags, webformatURL, largeImageURL }) => (\n        <ImageGalleryItem\n          key={id}\n          smallImage={webformatURL}\n          tags={tags}\n          largeImage={largeImageURL}\n          onClickImg={() => {\n            toggleModal(largeImageURL);\n          }}\n        />\n      ))}\n    </ul>\n  );\n}\n","import { BiLoader } from 'react-icons/bi';\r\nimport Spinner from '../Spinner/Spinner';\r\nimport './button.css';\r\n\r\nexport default function Button({ onClickLoad }) {\r\n  return (\r\n    <button class=\"button\" type=\"button\" onClick={onClickLoad}>\r\n      <BiLoader className=\"icon\" /> <span>Load more</span>\r\n    </button>\r\n  );\r\n}\r\n","import React, { useEffect } from 'react';\nimport styles from './modal.module.css';\n\nexport default function Modal(props) {\n  useEffect(() => {\n    window.addEventListener('keydown', handleEscClick);\n    return () => {\n      window.removeEventListener('keydown', handleEscClick);\n    };\n  });\n\n  const handleEscClick = evt => {\n    if (evt.code === 'Escape') {\n      props.closeModal();\n    }\n  };\n\n  const { onToggleModal, image } = props;\n  return (\n    <div className={styles.overlay} onClick={onToggleModal} tabIndex=\"0\">\n      <div className={styles.modal}>\n        <img src={image} alt={image.tags} />\n      </div>\n    </div>\n  );\n}\n","import { useState, useEffect, useCallback } from 'react';\nimport styles from './App.module.css';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport LoadError from './components/LoadError/LoadError';\nimport Spinner from './components/Spinner/Spinner';\nimport fetchPictures from './components/API/APIservice';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Button from './components/Button/Button';\nimport Modal from './components/Modal/Modal';\n\nexport default function App() {\n  const [pictureName, setPictureName] = useState('');\n  const [pictures, setPictures] = useState([]);\n  const [error, setError] = useState(null);\n  const [status, setStatus] = useState('idle');\n  const [page, setPage] = useState(1);\n  const [biggerImage, setBiggerImage] = useState('');\n  const [showModal, setShowModal] = useState(false);\n\n  const handleSearchSubmit = pictureName => {\n    if (!pictureName) {\n      return alert('Nothing to search. Enter name, please.');\n    }\n    setPage(1);\n    setPictures([]);\n    setPictureName(pictureName);\n  };\n\n  const wrapperForFetch = useCallback(() => {\n    fetchPictures(pictureName, page)\n      .then(data => {\n        setPictures(pictures => [...pictures, ...data.hits]);\n        setStatus('resolved');\n      })\n      .catch(error => {\n        setError(error);\n        setStatus('rejected');\n      });\n  }, [pictureName, page]);\n\n  useEffect(() => {\n    if (pictureName === '') return;\n    setStatus('pending');\n    wrapperForFetch();\n  }, [pictureName, wrapperForFetch, page]);\n\n  function loadMore() {\n    setPage(page + 1);\n  }\n\n  const toggleModal = largeImageURL => {\n    setShowModal(!showModal);\n    setBiggerImage(largeImageURL);\n  };\n\n  const closeModal = () => {\n    setShowModal(false);\n  };\n\n  return (\n    <div className={styles.App}>\n      <Searchbar onSubmit={handleSearchSubmit} />\n      {status === 'idle' && <p>Input name of picture to search</p>}\n      {status === 'pending' && <Spinner />}\n\n      {status === 'rejected' && <LoadError message={error.message} />}\n\n      {status === 'resolved' && (\n        <div className={styles.App}>\n          <ImageGallery pictures={pictures} toggleModal={toggleModal} />\n          <Button onClickLoad={loadMore} />\n        </div>\n      )}\n\n      {showModal && (\n        <Modal\n          onToggleModal={() => {\n            toggleModal();\n          }}\n          image={biggerImage}\n          closeModal={closeModal}\n        />\n      )}\n    </div>\n  );\n}\n","const BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '22969480-c3583c2b4b1ca4646f49ed52f';\n\nexport default function fetchPictures(nextName, nextPage) {\n  return fetch(\n    `${BASE_URL}?key=${API_KEY}&q=${nextName}&page=${nextPage}&image_type=photo&orientation=horizontal&per_page=12`,\n  ).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(new Error(`Нет картинки с названием ${nextName}`));\n  });\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchForm\":\"searchbar_SearchForm__2pHmK\",\"SearchForm_button\":\"searchbar_SearchForm_button__2p4M2\",\"SearchForm_button_label\":\"searchbar_SearchForm_button_label__2KycV\",\"SearchForm_input\":\"searchbar_SearchForm_input__1wKtr\",\"Searchbar\":\"searchbar_Searchbar__12Gia\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3suYE\"};"],"sourceRoot":""}