{"version":3,"sources":["App.module.css","components/ImageGalleryItem/imageGaleryItem.module.css","components/Modal/modal.module.css","components/ImageGallery/imageGallery.module.css","components/Searchbar/Searchbar.js","components/LoadError/LoadError.js","components/Spinner/Spinner.js","components/API/APIservice.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","App.js","index.js","components/Searchbar/searchbar.module.css"],"names":["module","exports","Searchbar","static","onSubmit","PropTypes","func","picture","string","state","name","handleInputChange","e","setState","currentTarget","value","onInputSubmit","props","preventDefault","reset","className","styles","SearchForm","this","SearchForm_input","type","autoComplete","autoFocus","placeholder","onChange","SearchForm_button","style","marginRight","SearchForm_button_label","Component","LoadError","message","role","Spinner","color","height","width","timeout","API","fetchPictures","nextName","nextPage","fetch","then","response","ok","json","Promise","reject","Error","ImageGalleryItem","id","tags","smallImage","largeImage","onClickImg","galleryItem","galleryItem_Img","src","alt","onClick","ImageGallery","pictures","toggleModal","class","gallery","map","webformatURL","largeImageURL","Button","onClickLoad","Modal","onToggleModal","isRequired","closeModal","image","handleEscClick","evt","code","window","addEventListener","removeEventListener","overlay","tabIndex","modal","Status","App","pictureName","error","status","page","buttonMore","biggerImage","showModal","handleSearchSubmit","alert","loadMore","prevState","prevProps","prevName","prevPage","wrapperForFetch","data","hits","scrollTo","top","document","documentElement","scrollHeight","behavior","catch","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e405378b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__24hDV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"galleryItem\":\"imageGaleryItem_galleryItem__1P9IH\",\"galleryItem_Img\":\"imageGaleryItem_galleryItem_Img__2iH8L\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"modal_overlay__2SCjZ\",\"modal\":\"modal_modal__1n6Zr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"imageGallery_gallery__bP-sP\"};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { ImSearch } from 'react-icons/im';\nimport styles from './searchbar.module.css';\n\nexport default class Searchbar extends Component {\n  static = {\n    onSubmit: PropTypes.func,\n    picture: PropTypes.string,\n  };\n  state = {\n    name: '',\n  };\n\n  handleInputChange = e => {\n    this.setState({ name: e.currentTarget.value });\n  };\n\n  onInputSubmit = e => {\n    const { onSubmit } = this.props;\n    e.preventDefault();\n    onSubmit(this.state.name);\n    this.reset();\n  };\n\n  reset = () => {\n    this.setState({ name: '' });\n  };\n\n  render() {\n    return (\n      <header className={styles.Searchbar}>\n        <form className={styles.SearchForm} onSubmit={this.onInputSubmit}>\n          <input\n            className={styles.SearchForm_input}\n            type=\"text\"\n            name=\"name\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.handleInputChange}\n            value={this.state.value}\n          />\n          <button className={styles.SearchForm_button} type=\"submit\">\n            <ImSearch style={{ marginRight: 8 }} />\n            <span className={styles.SearchForm_button_label}>Search</span>\n          </button>\n        </form>\n      </header>\n    );\n  }\n}\n","export default function LoadError({ message }) {\n  return (\n    <div role=\"alert\">\n      <p>{message}</p>\n    </div>\n  );\n}\n","import React, { Component } from 'react';\nimport Loader from 'react-loader-spinner';\n\nexport default class Spinner extends Component {\n  //other logic\n  render() {\n    return (\n      <div>\n        <Loader\n          type=\"Puff\"\n          color=\"#00BFFF\"\n          height={100}\n          width={100}\n          timeout={3000} //3 secs\n        />\n        <p>Loading...</p>\n      </div>\n    );\n  }\n}\n","const BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '22969480-c3583c2b4b1ca4646f49ed52f';\n\nfunction fetchPictures(nextName, nextPage) {\n  return fetch(\n    `${BASE_URL}?q=${nextName}&page=${nextPage}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n  ).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(new Error(`Нет картинки с названием ${nextName}`));\n  });\n}\n\nconst API = { fetchPictures };\nexport default API;\n","import styles from './imageGaleryItem.module.css';\n\nexport default function ImageGalleryItem({\n  id,\n  tags,\n  smallImage,\n  largeImage,\n  onClickImg,\n}) {\n\n  return (\n    <li key={id} className={styles.galleryItem}>\n      <img\n        className={styles.galleryItem_Img}\n        src={smallImage}\n        alt={tags}\n        data-source={largeImage}\n        onClick={() => {\n          onClickImg(largeImage);\n        }}\n      />\n    </li>\n  );\n}\n","import ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport styles from './imageGallery.module.css';\n\nexport default function ImageGallery({ pictures, toggleModal }) {\n\n  return (\n    <ul class={styles.gallery}>\n      {\n        pictures.map(({ id, tags, webformatURL, largeImageURL }) => (\n          <ImageGalleryItem\n            key={id}\n            smallImage={webformatURL}\n            tags={tags}\n            largeImage={largeImageURL}\n            onClickImg={() => {\n              toggleModal(largeImageURL);\n            }}\n          />\n        ))\n      }\n    </ul>\n  );\n}\n","import { BiLoader } from 'react-icons/bi';\nimport Spinner from '../Spinner/Spinner';\nimport './button.css';\n\nexport default function Button({ onClickLoad }) {\n  return (\n    <button class=\"button\" type=\"button\" onClick={onClickLoad}>\n      <BiLoader className=\"icon\" /> <span>Load more</span>\n    </button>\n  );\n}\n","import React, { Component } from 'react';\nimport PropTypes, { string } from 'prop-types';\nimport styles from './modal.module.css'\n\nexport default class Modal extends Component {\n  static = {\n    onToggleModal: PropTypes.func.isRequired,\n    closeModal: PropTypes.func.isRequired,\n    image: string,\n  }\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleEscClick);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleEscClick);\n  }\n\n  handleEscClick = evt => {\n    if (evt.code === 'Escape') {\n      this.props.closeModal();\n    }\n  };\n\n  render() {\n    const { onToggleModal, image } = this.props;\n    return (\n      <div className={styles.overlay}\n        onClick={onToggleModal}\n        tabIndex=\"0\">\n        <div className={styles.modal}>\n          <img src={image} alt={image.tags} />\n        </div>\n      </div>\n    );\n  }\n}\n","import styles from './App.module.css';\nimport { Component } from 'react';\nimport Searchbar from './components/Searchbar/Searchbar';\n// import FetchImages from './components/Fetch/Fetch';\nimport LoadError from './components/LoadError/LoadError';\nimport Spinner from './components/Spinner/Spinner';\nimport API from './components/API/APIservice';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Button from './components/Button/Button';\nimport Modal from './components/Modal/Modal';\n\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nexport default class App extends Component {\n  state = {\n    pictureName: '',\n    pictures: [],\n    error: null,\n    status: Status.IDLE,\n    page: 1,\n    buttonMore: false,\n    biggerImage: '',\n    showModal: false,\n  };\n\n  handleSearchSubmit = pictureName => {\n    if (!pictureName) {\n      return alert('Nothing to search. Enter name, please.');\n    }\n    this.setState({ pictureName });\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevName = prevState.pictureName;\n    const prevPage = prevState.page;\n    const nextName = this.state.pictureName;\n    const nextPage = this.state.page;\n\n    if (prevName !== nextName) {\n      this.setState({ status: Status.PENDING });\n      this.setState({ page: 1, pictures: [] });\n      this.wrapperForFetch(nextName, nextPage);\n    }\n\n    if (prevPage !== nextPage) {\n      this.wrapperForFetch(nextName, nextPage);\n    }\n  }\n\n  wrapperForFetch(nextName, nextPage) {\n    API.fetchPictures(nextName, nextPage)\n      .then(data => {\n        this.setState(prevState => {\n          return {\n            pictures: [...prevState.pictures, ...data.hits],\n            status: Status.RESOLVED,\n          };\n        });\n\n        if (this.prevPage !== nextPage) {\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: 'smooth',\n          });\n        }\n      })\n      .catch(error => this.setState({ error, status: Status.REJECTED }));\n  }\n\n  loadMore = () => {\n    this.setState(prevState => ({\n      page: prevState.page + 1,\n    }));\n  };\n\n  toggleModal = (largeImageURL) => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n      biggerImage: largeImageURL,\n    }));\n  };\n\n  closeModal = () => {\n    this.setState(() => ({ showModal: false }))\n  }\n\n  render() {\n    const { pictures, error, status, biggerImage, showModal } = this.state;\n\n    return (\n      <div className={styles.App}>\n        <Searchbar onSubmit={this.handleSearchSubmit} />\n        {status === 'idle' && <p>Input name of picture to search</p>}\n        {status === 'pending' && <Spinner />}\n\n        {status === 'rejected' && <LoadError message={error.message} />}\n\n        {status === 'resolved' &&\n          <div className={styles.App}>\n            <ImageGallery pictures={pictures}\n              toggleModal={this.toggleModal}\n            />\n            <Button onClickLoad={this.loadMore} />\n          </div>}\n\n        {showModal && < Modal onToggleModal={() => {\n          this.toggleModal();\n        }}\n          image={biggerImage}\n          closeModal={this.closeModal}\n        />}\n      </div>\n    )\n  }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchForm\":\"searchbar_SearchForm__18-eC\",\"SearchForm_button\":\"searchbar_SearchForm_button__3ykXI\",\"SearchForm_button_label\":\"searchbar_SearchForm_button_label__2EHm6\",\"SearchForm_input\":\"searchbar_SearchForm_input__mO7ri\",\"Searchbar\":\"searchbar_Searchbar__2g-Yv\"};"],"sourceRoot":""}